[PHP]
; Для разъяснения параметров можно пройти по ссылке http://www.php.net/manual/ru/ini.core.php
engine = On
; Language options
short_open_tag = On                     ; default On
asp_tags = Off                          ; default Off
precision = 14                          ; default 14
serialize_precision = 17                ; default 17
y2k_compliance = On                     ; default On
allow_call_time_pass_reference = Off    ; default On
disable_functions = ""                  ; default "". Functions are also disabled in Suhosin (see down)
disable_classes = ""                    ; default ""
exit_on_timeout = ""                    ; default ""
expose_php = Off                        ; default On

; Resource limits
memory_limit = 128M

; Performance settings
;realpath_cache_size=2M
;realpath_cache_ttl=120

; Data processing
track_vars = On                         ; default On
args_separator.output = "&"             ; default "&"
args_separator.input = "&"              ; default "&"
variables_order = "EGPCS"               ; default "EGPCS"
request_order = ""                      ; default ""
auto_globals_jit = On                   ; default On
register_globals = Off                  ; default Off
register_long_arrays = Off              ; default On
register_argc_argv = Off                ; default On
post_max_size = 64M                     ; default "8M"
gpc_order = "GPC"                       ; default "GPC"
; auto_prepend_file and auto_apppend_file are in XHProf section!
default_mimetype = "text/html"          ; default "text/html"
default_charset = ""                    ; default ""
always_populate_raw_post_data = Off     ; default Off

; File upload
file_uploads = On                       ; default On
upload_tmp_dir="/var/www/tmp"           ; default NULL
upload_max_filesize = 64M               ; default 2M
max_file_uploads = 20                   ; default 20

[Runtime]
; Runtime configuration :: Errors and Logging Configuration Options
error_reporting = E_ALL                 ; default NULL
display_errors = Off                    ; default On
display_startup_errors = Off            ; default Off
log_errors = On                         ; default Off
log_errors_max_len = 10240              ; default 1024
ignore_repeated_errors = Off            ; default Off
ignore_repeated_source = Off            ; default Off
report_memleaks = On                    ; default On
track_errors = Off                      ; default Off
html_errors = On                        ; default On
xmlrpc_errors = Off                     ; default Off
xmlrpc_error_number = Off               ; default Off
docref_root = ""                        ; default ""
docref_ext = ""                         ; default ""
;error_prepend_string =                 ; default NULL
;error_append_string =                  ; default NULL
;error_log =                            ; default NULL

; Runtime configuration :: output control
output_buffering = Off                  ; default Off
;output_handler =                       ; default NULL
implicit_flush = Off                    ; default Off

; Runtime configuration :: PHP Options/Inf Configuration Options
assert.active = On                      ; default On
assert.bail = Off                       ; default Off
assert.warning = On                     ; default On
;assert.callback =                      ; default NULL
assert.quiet_eval = Off                 ; default Off
enable_dl = Off                         ; default On
max_execution_time = 300                ; default 30
max_input_time = 600                    ; default -1
;max_input_nesting_level = 64           ; default 64
magic_quotes_gpc = Off                  ; default On
magic_quotes_runtime = Off              ; default Off
zend.enable_gc = On                     ; default On

; Runtime configuration :: Filesystem and Streams Configuration Options
allow_url_fopen = On                    ; default On
allow_url_include = Off                 ; default Off
;user_agent =                           ; default NULL
default_socket_timeout = 60             ; default 60
auto_detect_line_endings = Off          ; default Off

; Runtime configuration :: Zlib Configuration Options
zlib.output_compression = Off           ; default Off

; Runtime configuration :: Session configuration options
;session.save_handler = files
;session.save_path = '/var/www/tmp'
;session.use_cookies = 1
;session.name = PHPSESSID
;session.auto_start = 0
;session.cookie_lifetime = 0
;session.cookie_path = /
;session.cookie_domain =
;session.cookie_httponly =
;session.serialize_handler = php
;session.gc_probability = 1
;session.gc_divisor     = 1000
;session.gc_maxlifetime = 1440
;session.bug_compat_42 = 0
;session.bug_compat_warn = 1
;session.referer_check =
;session.entropy_length = 0
;session.entropy_file =
;session.cache_limiter = nocache
;session.cache_expire = 180
;session.use_trans_sid = 0
;session.hash_function = 0
;session.hash_bits_per_character = 5
;url_rewriter.tags = "a=href,area=href,frame=src,input=src,form=fakeentry"

[Safe mode]
safe_mode = Off                                     ; default Off
safe_mode_gid = On                                  ; default Off
safe_mode_include_dir =                             ; default NULL
safe_mode_exec_dir =                                ; default ""
safe_mode_allowed_env_vars = PHP_                   ; defautl "PHP_"
safe_mode_protected_env_vars = LD_LIBRARY_PATH      ; default "LD_LIBRARY_PATH"

[Date]
date.timezone="Europe/Moscow"

[SQL]
sql.safe_mode = Off

[MySQL]
extension = mysql.so

[MySQLi]
extension = mysqli.so

[PDO]
extension = pdo.so
extension = pdo_mysql.so
[mbstring]
;mbstring.func_overload = 2
;mbstring.internal_encoding = UTF-8

[LDAP]
extension = ldap.so

[gd]
extension = gd.so

[xhprof]
extension=xhprof.so
xhprof.output_dir=/tmp/xhprof
auto_prepend_file = <%= scope.lookupvar('webserver::params::php_prepend_file') %>
auto_append_file = <%= scope.lookupvar('webserver::params::php_append_file') %>

[curl]
extension=curl.so

[APC]
; Все параметры APC подробно описаны тут: http://www.php.net/manual/ru/apc.configuration.php
extension=apc.so
; Включаем APC
apc.enabled = 1
; Включаем оптимизацию на максимум. Судя по описанию - дает очень маленький прирост производительности,
; и вообще, экспериментальная функция. Полезность не доказана, впрочем, как и бесполезность.
apc.optimization=9
; Размер сегмента памяти для кеша (в мегабайтах)
apc.shm_size = <%= apc_shm_size %>
; Количество сегментов памяти
apc.shm_segments = 1
; Значения следующих параметров мне толком не понятно, но чем больше - тем лучше
apc.num_files_hint = 10240
apc.user_entries_hint = 10240
; ttl для cache entry (не знаю, как по-русски сказать). Если 0 - живет вечно, пока его не заместит
; новая entry при нехватке памяти
apc.ttl = 0
apc.user_ttl = 0
apc.gc_ttl = 3600
; Тут, надеюсь, всё понятно
apc.cache_by_default = 1
; файлы с какими названиями не кешировать. Если несколько - разделять запятой
apc.filters = "apc\.php$"
;
apc.mmap_file_mask = "/tmp/apc.XXXXXX"
; On very busy servers whenever you start the server or modify files you can create a race of many processes all trying to cache the same file at the same time. This option sets the percentage of processes that will skip trying to cache an uncached file. Or think of it as the probability of a single process to skip caching. For example, setting apc.slam_defense to 75 would mean that there is a 75% chance that the process will not cache an uncached file. So, the higher the setting the greater the defense against cache slams. Setting this to 0 disables this feature.
apc.slam_defense = 0
; Задержка перед кешированием только что измененных файлов (в секундах)
apc.file_update_protection = 2
apc.enable_cli = 0
apc.max_file_size = 10M
apc.use_request_time = 1
apc.stat = 1
apc.write_lock = 1
apc.report_autofilter = 0
apc.include_once_override = 0
apc.localcache = 0
apc.localcache.size = 512M
apc.coredump_unmap = 0
apc.stat_ctime = 0
apc.canonicalize = 1
apc.lazy_functions = 1
apc.lazy_classes = 1

[Suhosin]
extension=suhosin.so
suhosin.session.encrypt = Off
suhosin.log.file=511
suhosin.executor.include.max_traversal=4
suhosin.filter.action=402
suhosin.memory_limit=512M
suhosin.request.max_array_depth=4096
suhosin.request.max_array_index_length=2048
suhosin.request.max_name_length=2048
suhosin.request.max_totalname_length=8192
suhosin.request.max_value_length=650000
suhosin.request.max_vars=4096
suhosin.post.max_array_depth=8048
suhosin.post.max_array_index_length=1024
suhosin.post.max_name_length=2048
suhosin.post.max_totalname_length=8192
suhosin.post.max_vars=4096
suhosin.get.max_value_length=1024
suhosin.upload.max_uploads=100
suhosin.executor.func.blacklist=str_rot13,str_rot,stream_socket_client,system,source,popen,exec,passthru,proc_open,shell_exec,show_source,popen,eval,chown,popen,exec,passthru,proc_open,shell_exec,show_source,inject_code,ini_alter,ini_get_all,ini_restore,openlog,passthru,posix_getpwuid,posix_kill,posix_mkfifo,posix_setpgid,posix_setsid,posix_setuid,posix_uname,proc_close,proc_get_status,proc_nice,proc_open,proc_terminate,syslog,xmlrpc_entity_decode,apache_child_terminate,apache_setenv,define_syslog_variables,escapeshellarg,escapeshellcmd,getmypid, passthru, leak, listen, diskfreespace, ignore_user_abord, shell_exec, exec, highlight_file, show_source, fpaththru, virtual, posix_ctermid, posix_getcwd, posix_getegid, posix_geteuid, posix_getgid, posix_getgrgid, posix_getgrnam, posix_getgroups, posix_getlogin, posix_getpgid, posix_getpgrp, posix_getpid, posix, _getppid, posix_getpwnam, posix_getpwuid, posix_getrlimit, posix_getsid, posix_getuid, posix_isatty, posix_kill, posix_mkfifo, posix_setegid, posix_seteuid, posix_setgid, posix_setpgid, posix_setsid, posix_setuid, posix_times, posix_ttyname, posix_uname,proc_open,proc_close,proc_get_status,proc_nice,proc_terminate,
suhosin.executor.disable_eval=Off
suhosin.executor.eval.blacklist="str_rot13,str_rot,eval,echo,isset,isSet,edoced_46esab,base64_decode,phpinfo,gzinflate,mail,system,source,popen,exec,passthru,proc_open,shell_exec,show_source,popen,eval,chown,chmod,popen,exec,passthru,proc_open,shell_exec,show_source,inject_code,ini_alter,ini_get_all,ini_restore,mysql_pconnect,openlog,passthru,posix_getpwuid,posix_kill,posix_mkfifo,posix_setpgid,posix_setsid,posix_setuid,posix_uname,proc_close,proc_get_status,proc_nice,proc_open,proc_terminate,syslog,xmlrpc_entity_decode,apache_child_terminate,apache_setenv,define_syslog_variables,escapeshellarg,escapeshellcmd,getmypid,passthru,leak,listen,diskfreespace,ignore_user_abord,shell_exec,set_time_limit,exec,highlight_file,show_source,fpaththru,virtual,posix_ctermid,posix_getcwd,posix_getegid,posix_geteuid,posix_getgid,posix_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid,posix,_getppid,posix_getpwnam,posix_getpwuid,posix_getrlimit,posix_getsid,posix_getuid,posix_isatty,posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid,posix_setpgid,posix_setsid,posix_setuid,posix_times,posix_ttyname,posix_uname,proc_open,proc_close,proc_get_status,proc_nice,proc_terminate,include,include_once,require,require_once,curl_init,fpassthru,file,base64_encode,base64_decode,mail,exec,system,proc_open,leak,syslog,pfsockopen,shell_exec,ini_restore,symlink,stream_socket_server,proc_nice,popen,proc_get_status,dl,pcntl_exec,pcntl_fork,pcntl_signal,pcntl_waitpid,pcntl_wexitstatus,pcntl_wifexited,pcntl_wifsignaled,pcntl_wifstopped,pcntl_wstopsig,pcntl_wtermsig,socket_accept,socket_bind,socket_connect,socket_create,socket_create_listen,socket_create_pair,link,register_shutdown_function,register_tick_function,assert,curl_exec,popen,proc_open,unserialize,eval,base64_encode,base64_decode,create_function,exec,shell_exec,system,passthru,ob_get_contents,file,curl_init,readfile,fopen,fsockopen,pfsockopen,fclose,fread,include,include_once,require,require_once,file_put_contents,iframe"
suhosin.executor.disable_emodifier=Off
suhosin.mail.protect=1
suhosin.sql.bailout_on_error=On

[Other]
extension = mcrypt.so
<% if has_variable?('php_extensions') && php_extensions != :undef %>
<% php_extensions.each do |name| -%><%= "extension=#{name}\n" %><% end -%>
<% end %>
